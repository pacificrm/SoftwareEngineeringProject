{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c1f86d6e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"all\"\n};\nconst _hoisted_2 = {\n  class: \"follows\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_NavBar, {\n    username: this.username\n  }, null, 8 /* PROPS */, [\"username\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.follower, fl => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: fl.uid\n    }, [_createVNode(_component_router_link, {\n      class: \"lbt\",\n      to: `/profile/${fl['uid']}`\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(fl[\"username\"]), 1 /* TEXT */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createCommentVNode(\" <a class=\\\"lbt\\\" href=\\\"/profile/{{i[0]}}\\\"> {{ \\\"i[1]\\\" }} </a> \"), _createElementVNode(\"a\", {\n      class: \"fbt\",\n      href: \"#\",\n      onClick: $event => $options.unfollow(fl['username']),\n      id: \"ufl\"\n    }, \" Unfollow \", 8 /* PROPS */, _hoisted_3), _createElementVNode(\"a\", {\n      class: \"fbt\",\n      href: \"#\",\n      onClick: $event => $options.follow(fl['username']),\n      id: \"fl\"\n    }, \" Follow \", 8 /* PROPS */, _hoisted_4)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_NavBar","username","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","follower","fl","key","uid","_component_router_link","to","_createCommentVNode","href","onClick","$event","$options","unfollow","id","_hoisted_3","follow","_hoisted_4"],"sources":["/home/agustus/mad2-project/frontend/src/components/MyFollowers.vue"],"sourcesContent":["<template>\n  <div class=\"all\">\n    <NavBar :username=\"this.username\"></NavBar>\n    <div class=\"follows\">\n      <ul>\n        <li v-for=\"fl of follower\" :key=\"fl.uid\">\n          <router-link class=\"lbt\" :to=\"`/profile/${fl['uid']}`\">{{\n            fl[\"username\"]\n          }}</router-link>\n          <!-- <a class=\"lbt\" href=\"/profile/{{i[0]}}\"> {{ \"i[1]\" }} </a> -->\n          <a class=\"fbt\" href=\"#\" @click=\"unfollow(fl['username'])\" id=\"ufl\">\n            Unfollow\n          </a>\n          <a class=\"fbt\" href=\"#\" @click=\"follow(fl['username'])\" id=\"fl\">\n            Follow\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nexport default {\n  name: \"MyFollowers\",\n  components: {\n    NavBar,\n  },\n  data() {\n    return {\n      username: null,\n      //   about: null,\n      //   email: null,\n      auth_token: null,\n      // lists: {},\n      follower: null,\n      //   profile_pic: null,\n      error: \"\",\n      success: \"\",\n    };\n  },\n  async created() {\n    this.auth_token = sessionStorage.getItem(\"auth-token\");\n    this.username = sessionStorage.getItem(\"username\");\n    // console.log(this.email)\n    if (!this.auth_token) {\n      alert(\"Please Login to see your dashboard.\");\n      this.$router.push(\"/\");\n    }\n    return fetch(`http://127.0.0.1:5000/api/user`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication-Token\": `${this.auth_token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.follower = data[\"follower\"];\n        // this.email = data[\"email\"];\n        // this.fullname = data[\"fullname\"];\n        // this.about = data[\"about\"];\n        console.log(data);\n      })\n      .catch((error) => console.log(\"1st\", error));\n  },\n  methods: {\n    async follow(user) {\n      this.success = null;\n      this.error = null;\n      const res = await fetch(`http://127.0.0.1:5000/api/follow`, {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Authentication-Token\": `${this.auth_token}`,\n        },\n        body: JSON.stringify({\n          follower: this.username,\n          following: user,\n          is_authenticated: true,\n        }),\n      });\n      if (res.ok) {\n        this.$router.go();\n        window.location.reload();\n        console.log(\"registered\");\n        this.success = \"Followed.\";\n      } else if (res.status === 400) {\n        this.success = \"You allready follow this user!!\";\n      }\n    },\n    async unfollow(user) {\n      this.error = null;\n      this.success = null;\n      // var c = localStorage.getItem(\"suser\");\n      // this.fuser = localStorage.getItem(\"suser\");\n      // console.log(c);\n      const res = await fetch(`http://127.0.0.1:5000/api/unfollow`, {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Authentication-Token\": `${this.auth_token}`,\n        },\n        body: JSON.stringify({\n          follower: this.username,\n          unfollowing: user,\n          is_authenticated: true,\n        }),\n      });\n      if (res.ok) {\n        console.log(\"registered\");\n        this.error = \"Unfollowed!!\";\n      } else if (res.status === 400) {\n        this.error = \"You are not following this user!!\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.follows {\n  background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n    no-repeat center/cover;\n  /* border: 1px solid red; */\n  /* url(\"../assets/pp10.jpeg\") */\n  min-height: 91vh;\n  /* height: 90%; */\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  /* overflow: hidden; */\n}\n\n.follows ul {\n  border: 1px solid blue;\n  position: relative;\n  width: 700px;\n  min-height: 70vh;\n  list-style: none;\n  color: #f5f2f2;\n\n  /* display: flex;\n  flex-direction: row; */\n}\n\n.follows li {\n  /* margin-top: 0px;\n  padding-top: 0px; */\n  font-size: 1.5rem;\n  border: 1px solid green;\n  /* position: absolute; */\n  width: 90%;\n  margin-top: 20px;\n  font-weight: bold;\n  display: inline-block;\n  color: white;\n  /* font-family: \"Titan One\", cursive; */\n  -webkit-text-stroke-width: 1px;\n  /* -webkit-text-stroke-color: #cd06ff; */\n}\n.lbt {\n  color: white;\n  -webkit-text-stroke-width: 1px;\n  -webkit-text-stroke-color: #cd06ff;\n  text-decoration: none;\n  font-size: 2.2rem;\n  font-weight: bold;\n  float: left;\n  margin-top: 0px;\n  padding-top: 0px;\n}\n\n.fbt {\n  font-size: 1.4rem;\n  float: right;\n  margin-right: 25px;\n  text-decoration: none;\n  display: block;\n  border-radius: 30px;\n  width: 120px;\n  font-family: \"Rubik Spray Paint\", cursive;\n  text-align: center;\n  /* padding: 2px; */\n  color: #0f5c63;\n  font-weight: normal;\n\n  background: #e6e4e4;\n  -webkit-text-stroke-width: 0px;\n  /* -webkit-text-stroke-color: black; */\n  margin-top: 10px;\n}\n\n.fbt:hover {\n  box-shadow: 1px 1px 2px #d0bfe6;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAK;;EAETA,KAAK,EAAC;AAAS;;;;;;uBAFtBC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,YAAA,CAA2CC,iBAAA;IAAlCC,QAAQ,OAAOA;yCACxBC,mBAAA,CAeM,OAfNC,UAeM,GAdJD,mBAAA,CAaK,c,kBAZHL,mBAAA,CAWKO,SAAA,QAAAC,WAAA,CAXYC,KAAA,CAAAC,QAAQ,EAAdC,EAAE;yBAAbX,mBAAA,CAWK;MAXuBY,GAAG,EAAED,EAAE,CAACE;QAClCX,YAAA,CAEgBY,sBAAA;MAFHf,KAAK,EAAC,KAAK;MAAEgB,EAAE,cAAcJ,EAAE;;wBAAW,MAErD,C,kCADAA,EAAE,6B;;;iDAEJK,mBAAA,sEAAmE,EACnEX,mBAAA,CAEI;MAFDN,KAAK,EAAC,KAAK;MAACkB,IAAI,EAAC,GAAG;MAAEC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ,CAACV,EAAE;MAAeW,EAAE,EAAC;OAAM,YAEnE,iBAAAC,UAAA,GACAlB,mBAAA,CAEI;MAFDN,KAAK,EAAC,KAAK;MAACkB,IAAI,EAAC,GAAG;MAAEC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAI,MAAM,CAACb,EAAE;MAAeW,EAAE,EAAC;OAAK,UAEhE,iBAAAG,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}