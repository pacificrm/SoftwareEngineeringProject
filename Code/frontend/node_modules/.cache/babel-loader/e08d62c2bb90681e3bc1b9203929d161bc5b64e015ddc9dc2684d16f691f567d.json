{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  class: \"content-area\"\n};\nconst _hoisted_3 = {\n  class: \"content\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"head-nav\"\n}, [/*#__PURE__*/_createCommentVNode(\" <input type=\\\"submit\\\" value=\\\"Recent Posts\\\" />\\n        <input id=\\\"post\\\" type=\\\"submit\\\" value=\\\"Post-Blog\\\" /> \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\"\n}, \" Recent Posts \"), /*#__PURE__*/_createCommentVNode(\" <a href=\\\"/user/postBlog\\\"> Post-Blog </a> \")], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  key: 0,\n  class: \"allposts\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"post-preview\"\n};\nconst _hoisted_8 = [\"innerHTML\"];\nconst _hoisted_9 = {\n  class: \"info\",\n  style: {\n    \"position\": \"absolute\",\n    \"font-size\": \"1.2rem\",\n    \"top\": \"85px\"\n  }\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  id: \"dt\",\n  class: \"fa fa-calendar\"\n};\nconst _hoisted_12 = {\n  class: \"preview-text\"\n};\nconst _hoisted_13 = [\"innerHTML\"];\nconst _hoisted_14 = {\n  class: \"intr\"\n};\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = {\n  key: 0,\n  class: \"nof\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_NavBar, {\n    username: this.username\n  }, null, 8 /* PROPS */, [\"username\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, this.blogs ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.blogs, blog => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: blog.id,\n      class: \"posts\"\n    }, [_createCommentVNode(\" <input  type=\\\"checkbox\\\" class=\\\"chk\\\" aria-hidden=\\\"true\\\" />\\n        <div class=\\\"content\\\">\\n        <div class=\\\"p\\\"> \"), _createElementVNode(\"img\", {\n      src: require(`@/assets/blogs/${blog.image}`),\n      alt: \"Post Image\",\n      class: \"post-image\"\n    }, null, 8 /* PROPS */, _hoisted_6), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h1\", null, [_createElementVNode(\"span\", {\n      innerHTML: blog['title']\n    }, null, 8 /* PROPS */, _hoisted_8)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"i\", {\n      id: \"usr\",\n      class: \"far fa-user\",\n      onClick: $event => $options.usr(blog['user'])\n    }, _toDisplayString(blog[\"user\"]), 9 /* TEXT, PROPS */, _hoisted_10), _createTextVNode(\"   \"), _createElementVNode(\"i\", _hoisted_11, _toDisplayString(blog[\"date\"]) + \"  \" + _toDisplayString(blog[\"time\"]), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_12, [_createElementVNode(\"span\", {\n      innerHTML: blog['preview']\n    }, null, 8 /* PROPS */, _hoisted_13)]), _createElementVNode(\"div\", _hoisted_14, [_createTextVNode(_toDisplayString(blog[\"likes\"]) + \" \", 1 /* TEXT */), _createElementVNode(\"i\", {\n      class: \"fa fa-thumbs-up lk\",\n      onClick: $event => $options.like(blog['id'])\n    }, null, 8 /* PROPS */, _hoisted_15), _createTextVNode(\"   \" + _toDisplayString(blog[\"dislikes\"]) + \" \", 1 /* TEXT */), _createElementVNode(\"i\", {\n      class: \"fa fa-thumbs-down lk\",\n      onClick: $event => $options.unlike(blog['id'])\n    }, null, 8 /* PROPS */, _hoisted_16), _createTextVNode(\"   \" + _toDisplayString(blog[\"comments\"]) + \" \", 1 /* TEXT */), _createElementVNode(\"i\", {\n      class: \"fa fa-comment cmnt\",\n      onClick: $event => $options.comment(blog['id'])\n    }, null, 8 /* PROPS */, _hoisted_17)]), _createElementVNode(\"a\", {\n      href: \"#\",\n      class: \"btn\",\n      onClick: _withModifiers($event => $options.readblog(blog['id']), [\"prevent\"])\n    }, \"Read More\", 8 /* PROPS */, _hoisted_18)])]);\n  }), 128 /* KEYED_FRAGMENT */)), !$data.blogs ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, \" No feeds follow some users to see their Blogs. \")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" {% block innercontent %} {% endblock %} \")])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createCommentVNode","href","style","id","_createElementBlock","_hoisted_1","_createVNode","_component_NavBar","username","_hoisted_2","_hoisted_3","_hoisted_4","blogs","_hoisted_5","_Fragment","_renderList","$data","blog","key","src","require","image","alt","_hoisted_7","innerHTML","_hoisted_9","onClick","$event","$options","usr","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","_hoisted_14","like","unlike","comment","_withModifiers","readblog","_hoisted_18","_hoisted_19"],"sources":["/home/agustus/mad2-project/frontend/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <NavBar :username=\"this.username\"></NavBar>\n    <div class=\"content-area\">\n      <div class=\"content\">\n        <div class=\"head-nav\">\n          <!-- <input type=\"submit\" value=\"Recent Posts\" />\n        <input id=\"post\" type=\"submit\" value=\"Post-Blog\" /> -->\n          <a href=\"#\"> Recent Posts </a>\n          <!-- <a href=\"/user/postBlog\"> Post-Blog </a> -->\n        </div>\n        <div v-if=\"this.blogs\" class=\"allposts\">\n          <div v-for=\"blog of blogs\" :key=\"blog.id\" class=\"posts\">\n            <!-- <input  type=\"checkbox\" class=\"chk\" aria-hidden=\"true\" />\n        <div class=\"content\">\n        <div class=\"p\"> -->\n            <img\n              :src=\"require(`@/assets/blogs/${blog.image}`)\"\n              alt=\"Post Image\"\n              class=\"post-image\"\n            />\n            <div class=\"post-preview\">\n              <h1>\n                <span v-html=\"blog['title']\"></span>\n              </h1>\n\n              <div\n                class=\"info\"\n                style=\"position: absolute; font-size: 1.2rem; top: 85px\"\n              >\n                <i id=\"usr\" class=\"far fa-user\" @click=\"usr(blog['user'])\">\n                  {{ blog[\"user\"] }}\n                </i>\n\n                &nbsp;\n                <i id=\"dt\" class=\"fa fa-calendar\"\n                  >{{ blog[\"date\"] }}&nbsp;&nbsp;{{ blog[\"time\"] }}</i\n                >\n              </div>\n\n              <p class=\"preview-text\">\n                <span v-html=\"blog['preview']\"></span>\n              </p>\n              <div class=\"intr\">\n                {{ blog[\"likes\"] }}\n                <i class=\"fa fa-thumbs-up lk\" @click=\"like(blog['id'])\"> </i\n                >&nbsp;&nbsp; {{ blog[\"dislikes\"] }}\n                <i class=\"fa fa-thumbs-down lk\" @click=\"unlike(blog['id'])\">\n                </i>\n                &nbsp;&nbsp;{{ blog[\"comments\"] }}\n                <i class=\"fa fa-comment cmnt\" @click=\"comment(blog['id'])\"></i>\n              </div>\n\n              <a href=\"#\" class=\"btn\" @click.prevent=\"readblog(blog['id'])\"\n                >Read More</a\n              >\n            </div>\n          </div>\n          <div v-if=\"!blogs\" class=\"nof\">\n            No feeds follow some users to see their Blogs.\n          </div>\n        </div>\n        <!-- {% block innercontent %} {% endblock %} -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from \"@/components/HelloWorld.vue\";\nimport NavBar from \"@/components/NavBar.vue\";\n\nexport default {\n  name: \"HomeView\",\n  components: {\n    NavBar,\n  },\n  data() {\n    return {\n      username: null,\n      // fullname: null,\n      // email: null,\n      auth_token: null,\n      users: null,\n      error: \"\",\n      sucess: \"\",\n      blogs: null,\n    };\n  },\n  async created() {\n    this.auth_token = sessionStorage.getItem(\"auth-token\");\n    this.username = sessionStorage.getItem(\"username\");\n    console.log(this.username);\n    if (!this.auth_token) {\n      alert(\"Please Login to see your dashboard.\");\n      this.$router.push(\"/\");\n    }\n    return fetch(\"http://127.0.0.1:5000/api/user\", {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Authentication-Token\": `${this.auth_token}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.blogs = data[\"blogs\"];\n        console.log(data[\"blogs\"]);\n        console.log(this.blogs);\n        console.log(data);\n      })\n      .catch((error) => console.log(\"1st\", error));\n  },\n  methods: {\n    async usr(user) {\n      this.$router.push(`/profile/${user}`);\n    },\n    async comment(bgid) {\n      this.$router.push(`/comment/${bgid}`);\n    },\n    async readblog(bgid) {\n      this.$router.push(`/readblog/${bgid}`);\n    },\n    async like(blog) {\n      const res = await fetch(`http://127.0.0.1:5000/api/likeunlike`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authentication-Token\": `${this.auth_token}`,\n        },\n        body: JSON.stringify({\n          like: true,\n          blog: blog,\n          username: this.currusername,\n          is_authenticated: true,\n        }),\n      });\n      if (res.ok) {\n        console.log(\"liked\");\n        this.$router.go();\n        window.location.reload();\n      } else {\n        console.log(\"error!!\");\n      }\n    },\n    async unlike(blog) {\n      const res = await fetch(`http://127.0.0.1:5000/api/likeunlike`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authentication-Token\": `${this.auth_token}`,\n        },\n        body: JSON.stringify({\n          like: false,\n          blog: blog,\n          username: this.currusername,\n          is_authenticated: true,\n        }),\n      });\n      if (res.ok) {\n        this.$router.go();\n        window.location.reload();\n        console.log(\"unliked\");\n      } else {\n        console.log(\"error!!\");\n      }\n    },\n  },\n};\n</script>\n\n<style>\n/* @import url(\"https://fonts.googleapis.com/css2?family=Rubik+Pixels&display=swap\"); */\n/* @import url(\"https://fonts.googleapis.com/css2?family=Righteous&display=swap\"); */\n@import url(\"https://fonts.googleapis.com/css2?family=Rubik+Gemstones&display=swap\");\n.content-area {\n  background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),\n    url(\"../assets/s2.png\") no-repeat center/cover;\n  display: flex;\n  border: 1px solid blue;\n  min-height: 91vh;\n  position: relative;\n  overflow: auto;\n}\n\n.content {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  width: 90%;\n  margin: 30px auto 30px;\n  align-items: center;\n  position: relative;\n  min-height: 75vh;\n}\n\n.head-nav {\n  position: absolute;\n  top: -24px;\n  width: 100%;\n  height: 80px;\n  /* margin: 20px; */\n  /* margin: 10px; */\n  /* overflow: hidden; */\n  display: inline-block;\n  /* border: 1px solid gold; */\n}\n.head-nav a {\n  height: 50px;\n  font-size: 2rem;\n  /* font-weight: bold; */\n  font-family: \"Rubik Gemstones\", cursive;\n  /* font-family: \"Rubik Pixels\", cursive; */\n  /* font-family: \"Righteous\", cursive; */\n  margin: 15px;\n  padding: 10px;\n  color: rgb(255, 255, 255);\n  display: inline-block;\n  text-decoration: none;\n  /* border: 2px solid black; */\n  box-shadow: 2px 2px 4px 4px gray;\n  /* background: rgb(233, 233, 233); */\n  background: transparent;\n  cursor: pointer;\n  /* float: left; */\n}\n.head-nav a:hover {\n  /* background: wheat; */\n  box-shadow: 3px 3px 5px 5px rgb(255, 233, 137);\n  transition: 0.5s;\n}\n/* .rp {\n  display: ;\n  left: 0px;\n} */\n\n.nof {\n  text-align: center;\n  /* border: 1px solid red; */\n  color: #ffffff;\n  top: 230px;\n  position: absolute;\n  width: 800px;\n  right: 250px;\n  font-family: \"Rubik Bubbles\", cursive;\n  font-size: 2rem;\n  -webkit-text-stroke-width: 1px;\n  -webkit-text-stroke-color: #00ebfc;\n  background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));\n}\n.allposts {\n  /* background: url(\"../static/pp12.jpg\") no-repeat center/cover; */\n  background: transparent;\n  position: absolute;\n  top: 44px;\n  width: 97%;\n  min-height: 700px;\n}\n\n.posts {\n  /* left: 20px; */\n  /* position: relative; */\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  margin: 30px 0;\n  width: 100%;\n  max-height: 270px;\n  border-radius: 0px;\n  background: white;\n  /* border: 1px solid red; */\n  box-shadow: 5px 5px 15px 6px #8706ff;\n}\n\n.posts:hover {\n  box-shadow: 0px 5px 15px 6px rgb(255, 233, 143);\n}\n\n.posts img {\n  width: 40%;\n  height: 270px;\n  float: left;\n  margin: 0%;\n  /* border: 1px solid yellowgreen; */\n}\n\n.post-preview {\n  width: 60%;\n  padding: 0px;\n  float: right;\n  margin-left: 5px;\n  /* border: 1px solid red; */\n  position: relative;\n  height: 270px;\n}\n.post-preview h1 {\n  /* border: 1px solid red; */\n  display: absolute;\n  top: 0px;\n  max-height: 80px;\n  overflow: hidden;\n  margin: 0px;\n  text-align: left;\n}\n.preview-text {\n  position: absolute;\n  /* border: 1px solid red; */\n  top: 100px;\n  max-height: 100px;\n  max-width: 870px;\n  overflow: hidden;\n}\n.intr {\n  position: absolute;\n  font-size: 1.7rem;\n  bottom: 0px;\n}\n.intr a {\n  color: gray;\n  margin-left: 4px;\n}\n/* #lk {\n  color: red;\n} */\n.cmnt {\n  color: gray;\n  cursor: pointer;\n}\n.lk {\n  color: gray;\n}\n.lk:hover {\n  color: red;\n  cursor: pointer;\n}\n\n.cmnt:hover {\n  color: rgb(63, 62, 62);\n}\n#usr {\n  color: blue;\n  font-weight: bold;\n}\n#usr:hover {\n  color: rgb(72, 17, 201);\n  cursor: pointer;\n}\n\n.btn {\n  padding: 0.5rem 1rem;\n\n  background: transparent;\n  color: rgb(116, 20, 196);\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n  text-decoration: none;\n  cursor: pointer;\n  position: absolute;\n  right: 7px;\n  bottom: 7px;\n  font-weight: 600;\n  font-size: 1.15rem;\n  box-shadow: 1.2px 1.2px 1.2px 1.2px grey;\n}\n\n.btn:hover {\n  /* background: #4a1e85; */\n  background: #6939a7;\n  box-shadow: 2px 2px 1.8px 2px rgb(80, 79, 79);\n  transition: 0.5s;\n  color: white;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAS;gCAClBC,mBAAA,CAKM;EALDD,KAAK,EAAC;AAAU,I,aACnBE,mBAAA,yHACqD,E,aACrDD,mBAAA,CAA8B;EAA3BE,IAAI,EAAC;AAAG,GAAC,gBAAc,G,aAC1BD,mBAAA,gDAAiD,C;;;EAE5BF,KAAK,EAAC;;;;EAUpBA,KAAK,EAAC;AAAc;;;EAMrBA,KAAK,EAAC,MAAM;EACZI,KAAwD,EAAxD;IAAA;IAAA;IAAA;EAAA;;;;EAOGC,EAAE,EAAC,IAAI;EAACL,KAAK,EAAC;;;EAKhBA,KAAK,EAAC;AAAc;;;EAGlBA,KAAK,EAAC;AAAM;;;;;;;EAeFA,KAAK,EAAC;;;;uBAzDjCM,mBAAA,CAgEM,OAhENC,UAgEM,GA/DJC,YAAA,CAA2CC,iBAAA;IAAlCC,QAAQ,OAAOA;yCACxBT,mBAAA,CA6DM,OA7DNU,UA6DM,GA5DJV,mBAAA,CA2DM,OA3DNW,UA2DM,GA1DJC,UAKM,E,KACUC,KAAK,I,cAArBR,mBAAA,CAkDM,OAlDNS,UAkDM,I,kBAjDJT,mBAAA,CA6CMU,SAAA,QAAAC,WAAA,CA7CcC,KAAA,CAAAJ,KAAK,EAAbK,IAAI;yBAAhBb,mBAAA,CA6CM;MA7CsBc,GAAG,EAAED,IAAI,CAACd,EAAE;MAAEL,KAAK,EAAC;QAC9CE,mBAAA,iIAEe,EACfD,mBAAA,CAIE;MAHCoB,GAAG,EAAEC,OAAO,mBAAmBH,IAAI,CAACI,KAAK;MAC1CC,GAAG,EAAC,YAAY;MAChBxB,KAAK,EAAC;yCAERC,mBAAA,CAmCM,OAnCNwB,UAmCM,GAlCJxB,mBAAA,CAEK,aADHA,mBAAA,CAAoC;MAA9ByB,SAAsB,EAAdP,IAAI;2CAGpBlB,mBAAA,CAYM,OAZN0B,UAYM,GARJ1B,mBAAA,CAEI;MAFDI,EAAE,EAAC,KAAK;MAACL,KAAK,EAAC,aAAa;MAAE4B,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,GAAG,CAACZ,IAAI;wBAC3CA,IAAI,gCAAAa,WAAA,G,iBACL,KAGJ,GAAA/B,mBAAA,CAEC,KAFDgC,WAEC,EAAAC,gBAAA,CADKf,IAAI,YAAW,IAAY,GAAAe,gBAAA,CAAGf,IAAI,yB,GAI1ClB,mBAAA,CAEI,KAFJkC,WAEI,GADFlC,mBAAA,CAAsC;MAAhCyB,SAAwB,EAAhBP,IAAI;4CAEpBlB,mBAAA,CAQM,OARNmC,WAQM,G,kCAPDjB,IAAI,aAAY,GACnB,iBAAAlB,mBAAA,CACC;MADED,KAAK,EAAC,oBAAoB;MAAE4B,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAO,IAAI,CAAClB,IAAI;2DAC9C,KAAa,GAAAe,gBAAA,CAAGf,IAAI,gBAAe,GACpC,iBAAAlB,mBAAA,CACI;MADDD,KAAK,EAAC,sBAAsB;MAAE4B,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAQ,MAAM,CAACnB,IAAI;2DAC/C,KACQ,GAAAe,gBAAA,CAAGf,IAAI,gBAAe,GAClC,iBAAAlB,mBAAA,CAA+D;MAA5DD,KAAK,EAAC,oBAAoB;MAAE4B,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAS,OAAO,CAACpB,IAAI;4CAGpDlB,mBAAA,CAEC;MAFEE,IAAI,EAAC,GAAG;MAACH,KAAK,EAAC,KAAK;MAAE4B,OAAK,EAAAY,cAAA,CAAAX,MAAA,IAAUC,QAAA,CAAAW,QAAQ,CAACtB,IAAI;OAClD,WAAS,iBAAAuB,WAAA,E;mCAIJxB,KAAA,CAAAJ,KAAK,I,cAAjBR,mBAAA,CAEM,OAFNqC,WAEM,EAFyB,kDAE/B,K,0EAEFzC,mBAAA,6CAAgD,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}